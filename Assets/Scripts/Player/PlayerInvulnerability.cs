using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerInvulnerability : MonoBehaviour
{
    Renderer renderer;
    Color color;
    private EntityStats playerStats;

    void Start()
    {
        playerStats = GetComponent<EntityStats>();
        renderer = GetComponent<Renderer>();
        color = renderer.material.color;
    }

    void OnCollisionEnter2D(Collision2D collision)
    {
        var collisionStats = collision.gameObject.GetComponent<EntityStats>(); //Daca e colision cu ceva care da DMG 
        if (collisionStats != null)
        {
            StartCoroutine(BeInvulnerable());
        }
    }

    IEnumerator BeInvulnerable()
    {
        playerStats.isInvulnerable = true;
        yield return new WaitForSeconds (playerStats.TimeOfInvulnerability);
        playerStats.isInvulnerable = false;
    }
}